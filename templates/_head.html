<!DOCTYPE html>

<html>

<head>

  <title>{{if eq .Navigation "pending"}} Tasks 
	     {{ else if eq .Navigation "completed"}}Completed
	     {{ else if eq .Navigation "deleted"}}Deleted
		 {{ else if eq .Navigation "edit"}} Edit
         {{else }} {{.Navigation}}
		 {{end}}
		 </title>

  <!-- Mobile viewport optimized -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <!-- Bootstrap CSS -->
  <link href="/static/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/css/bootstrap-glyphicons.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="/static/css/styles.css" rel="stylesheet">
  <link href="/static/css/sidebar.css" rel="stylesheet">
  <link href="/static/css/sidebar-bootstrap.css" rel="stylesheet">
  <link href="/static/css/font-awesome.min.css" rel="stylesheet">

  <!-- Include Modernizr in the head, before any other Javascript -->
  <script src="/static/js/modernizr-2.6.2.min.js"></script>
  <!-- All Javascript at the bottom of the page for faster page loading -->
  <script src="/static/js/jquery.min.js"></script>
  <!-- If no online access, fallback to our hardcoded version of jQuery
		<script>window.jQuery || document.write('<script src="/static/js/jquery-1.8.2.min.js"><\/script>')</script>
		-->
  <!-- Bootstrap JS -->
  <script src="/static/js/bootstrap.min.js"></script>

  <!-- Custom JS -->
  <script src="/static/js/script.js"></script>
  <script src="/static/js/hammer.min.js"></script>
  <script src="/static/js/sidebar.js"></script>

</head>
<body>
	<!-- The navigation bar-->
	<div class="notification hidden" {{if eq .Message ""}} class="hidden" {{end}}><span id="message"><p>{{.Message}} <button id="btnMessage" class="btn btn-default">OK</button></p>  </span> </div>
	<nav class="navbar navbar-default navbar-fixed-top mainHeader">
		<div class="container-fluid">
			<div class="navbar-header">
				{{if .Search}} <a class="navbar-brand"> Results for: {{.Search}}</a> 
				{{else}} 
					<a class="navbar-brand" 
					href='{{ if eq .Navigation "pending"}} / 
                    {{else if eq .Navigation "completed"}} /{{.Navigation}}
                    {{else if eq .Navigation "deleted"}} /{{.Navigation}}
                    {{else if eq .Navigation "edit"}} /{{.Navigation}}
                    {{else}} /category/{{.Navigation}}
                     {{end}}'>
					{{if eq .Navigation "pending"}} Pending 
					{{ else if eq .Navigation "completed"}}Completed
					{{ else if eq .Navigation "deleted"}}Deleted
					{{ else if eq .Navigation "edit"}} Edit
                    {{else }} {{.Navigation}}
					{{end}}</a>
				{{end}}
				<span id="icons">
						<form action="/search/" method="POST">
							<input type="text" name="query" placeholder="Search" style="border:none;border-bottom:1px solid gray; box-shadow:none;">
							<input type="submit" text="submit" class="btn btn-default"/>
						</form>
					</span>
			</div>
		</div>
	</nav>
	<!-- SIDEBAR -->
	<div data-sidebar="true" class="sidebar-trigger">

		<a class="sidebar-toggle" href="">
			<span class="glyphicon glyphicon-align-justify"></span>
		</a>

		<div class="sidebar-wrapper sidebar-default">
			<div class="sidebar-scroller">
				<ul class="sidebar-menu">
					<li class="sidebar-group"><span>Tasks</span>
						<ul class="sidebar-group-menu">
							
                            <li class="sidebar-item">
								<a href="/" {{ if eq .Navigation "pending"}} class="active" {{end}}  ><span class="glyphicon glyphicon-tasks"></span> <span class="nav-item">Pending</span></a>
								
							</li>
							
                            <li class="sidebar-item">
								<a href="/completed/" {{ if eq .Navigation "completed"}} class="active" {{end}}><span class="glyphicon glyphicon-check"></span>  <span class="nav-item"> Completed</span></a>
							</li>
							
                            <li class="sidebar-item">
								<a href="/deleted/" {{ if eq .Navigation "deleted"}} class="active" {{end}}><span class="glyphicon glyphicon-trash"></span>  <span class="nav-item"> Deleted</span></a>
							</li>
                            
                            <hr>
                            
                            <li class="sidebar-item">
                                {{$nav := .Navigation}}
			                 <h5> Categories</h5> 
                             <!--<button title="New category" id="toggleCategoryForm" data-placement="left" data-toggle="tooltip" class="btn glyphicon glyphicon-plus" style="font-size:small; margin-left:120px;"></button>-->
                             <span id="categoryForm">
                                 <form action="/add-category/" method="POST">
                                 <span> 
							         <input type="text" name="category" width="50px">
							         <input type="submit" text="submit" class="btn btn-primary" value="Submit"/>
                                 </span>
						         </form>
                             </span>
		                    </li>
                            
                            {{ range $index, $cat := .Categories }}
                            <li class="sidebar-item">
								<a href="/category/{{$cat.Name}}" {{ if eq  $cat.Name $nav }} class="active" {{end}}> <span class="glyphicon glyphicon-stop"></span>  <span class="nav-item"> {{$cat.Name}}</span> <span class="badge pull-right">{{$cat.Count}}</span></a>
							</li>
                            {{end}}
						</ul>
					</li>
				</ul>
			</div>
		</div>
	</div>
